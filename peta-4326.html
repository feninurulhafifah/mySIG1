<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Peta EPSG:4326 - Lokasi Fasilitas Ramah Disabilitas</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  </head>
  <body>
    <h1>Peta EPSG:4326</h1>
    <div id="map" style="height: 500px"></div>

    <script>
      // Inisialisasi peta dengan proyeksi EPSG:4326
      var map = L.map("map", {
        crs: L.CRS.EPSG4326,
        center: [-6.9369223, 106.8393673],
        zoom: 6,
      });

      // Base map WMS (Natural Earth)
      L.tileLayer
        .wms("https://ahocevar.com/geoserver/wms", {
          layers: "ne:NE1_HR_LC_SR_W_DR",
          format: "image/png",
          transparent: false,
          attribution: "Natural Earth",
        })
        .addTo(map);

      // === Tambahkan data GeoJSON ===
      fetch("map (7).geojson") // pastikan file ini ada di folder yang sama
        .then((res) => res.json())
        .then((data) => {
          L.geoJSON(data, {
            pointToLayer: function (feature, latlng) {
              // Membuat marker untuk setiap point
              return L.marker(latlng);
            },
            onEachFeature: function (feature, layer) {
              // Menambahkan popup nama (ganti 'nama' sesuai field di geojson kamu)
              if (feature.properties && feature.properties.nama) {
                layer.bindPopup("<b>" + feature.properties.nama + "</b>");
              }
            },
          }).addTo(map);
        });
    </script>
  </body>
</html>
